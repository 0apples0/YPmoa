<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>

<%@include file="../includes/header_guest.jsp" %>



        <!-- Page Header Start -->
        <div class="container-fluid page-header mb-5 p-0">
            <div class="page-header-inner" id="login_banner">
                <div class="container text-center ">
                    <h1 class=" display-3 text-white mb-3 animated slideInDown" id="login_h1">Community</h1>

                    <p id="login_p">꿀팁 상세정보</p>



                </div>
            </div>
        </div>
        <!-- Page Header End -->
        <div class="container-xxl ">
            <div class="container">




                <div class="row g-4">
                    <div class="wow fadeIn" data-wow-delay="0.1s">

                        <!-- table section -->
                        <div class="col-md-12">
                            <div class="white_shd_a full margin_bottom_30">
                                
                                <div class="full graph_head" style="padding-bottom: 7px;">
                                    <div class="heading1 ">
                                        <h2 style="font-size: 30px;">이번에 뜬 청약 꿀팁 알려줌ㅋㅋ</h2><br>
                                        <div>동그란햄스터</div>
                                        <div class="font_light">2024/02/11/ 17:18:22</div>
                                    </div>
                                </div>
                                


                            </div>




                        </div>
                        <div class="col-md-12">
                            <div class="white_shd_a full margin_bottom_30">
                               
                                <div class="table_section padding_infor_info">

                                    <div class="table-responsive-sm">
                                        <table class=" commu_table policy_dt_table commuGet_table">
                                            
                                            <tbody>
                                                <tr >
                                                    <td>
                                                        오늘저녁뭐먹을지추천좀ㅋㅋ
                                                        오늘저녁뭐먹을지추천좀ㅋㅋ
                                                        오늘저녁뭐먹을지추천좀ㅋㅋ
                                                        오늘저녁뭐먹을지추천좀ㅋㅋ
                                                        오늘저녁뭐먹을지추천좀ㅋㅋ
                                                        오늘저녁뭐먹을지추천좀ㅋㅋ
                                                        오늘저녁뭐먹을지추천좀ㅋㅋ
                                                        오늘저녁뭐먹을지추천좀ㅋㅋ
                                                        오늘저녁뭐먹을지추천좀ㅋㅋ<br>
                                                        오늘저녁뭐먹을지추천좀ㅋㅋ<br>
                                                        오늘저녁뭐먹을지추천좀ㅋㅋ<br>
                                                        오늘저녁뭐먹을지추천좀ㅋㅋ<br>
                                                        오늘저녁뭐먹을지추천좀ㅋㅋ<br>
                                                        오늘저녁뭐먹을지추천좀ㅋㅋ<br>
                                                        오늘저녁뭐먹을지추천좀ㅋㅋ<br>
                                                        오늘저녁뭐먹을지추천좀ㅋㅋ<br>
                                                    </td>

                                                </tr>
                                            </tbody>
                                        </table>
                                        <br>
                                        <div style="display: flex;" class="commuGet_likeBox">
                                            <div class="g-4 policyGet_letter">
                                                좋아요</div>
                                            <a> <img src="${pageContext.request.contextPath}/resources/img/addLike.png" class="policyGet_likeBtn"
                                                    style="width: 38px; cursor: pointer;" /></a>
                                            <div class="g-4">
                                                <span class="policyGet_likeCount">3</span>
                                            </div>
                                            <div class="g-4 policyGet_letter">개</div>
                                        </div>
                                    </div>
                                </div>



                                

                            </div>

                            



                        </div>
                    </div>

                </div>
            </div>

        </div>


        <div class="container-xxl py-5_a">
            <div class="container">




                <div class="row g-4">
                    <div class="wow fadeIn" data-wow-delay="0.01s">
                        <h3 style="margin-left: 30px;">댓글</h3>
                        <div style="display: flex; justify-content: center;">
                            <input type="text" class="form-control datetimepicker-input font_light" style="width: 88%;"
                                placeholder="서로를 배려하는 댓글 문화를 만듭시다" />
                            <button class="btn btn-primary" style="margin-left: 10px;">댓글 작성</button>
                        </div>

                        <!-- table section -->
                        <div class="col-md-12">
                            <div class="white_shd_a full margin_bottom_30">

                                <div class="table_section padding_infor_info">
                                    <div class="table-responsive-sm">
                                        <table class="table table-basic commu_table policyGet_comment">

                                            <tbody>
                                                <tr>
                                                    <td style="width: 60%;">
                                                        또낚임
                                                    </td>
                                                    <td>ㄹㅇ</td>
                                                    <td>2024-02-11</td>
                                                    <td><a><img class="commu_like policyGet_like"
                                                                src="${pageContext.request.contextPath}/resources/img/addLike.png" /></a>
                                                        <span>32</span>개
                                                    </td>
                                                    <td>
                                                        <img class="policyGet_report" src="${pageContext.request.contextPath}/resources/img/report.png"
                                                            style="width: 20px;" />
                                                        <a href="#" class="policyGet_report">신고</a>
                                                    </td>
                                                </tr>

                                                <tr>
                                                    <td style="width: 60%;">
                                                       비비큐 핫윙 ㄱ
                                                    </td>
                                                    <td>ㅇㅇ</td>
                                                    <td>2024-02-11</td>
                                                    <td><img class="commu_like policyGet_like"
                                                            src="${pageContext.request.contextPath}/resources/img/addLike.png" />
                                                        <span>32</span>개
                                                    </td>
                                                    <td>
                                                        <img class="policyGet_report" src="${pageContext.request.contextPath}/resources/img/report.png"
                                                            style="width: 20px;" />
                                                        <a href="#" class="policyGet_report">신고</a>
                                                    </td>
                                                </tr>


                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>




                        </div>
                    </div>







                </div>
            </div>
            <nav aria-label="Page navigation" class="commu_page_nav wow fadeInUp">
                <ul class="pagination justify-content-center policy_page_navbox">
                    <li class="policy_page-item_prev prev">
                        <a class="page-link" href="javascript:void(0);"><i class="fa fa-angle-double-left"
                                aria-hidden="true"></i></a>
                    </li>
                    <li class="policy_page-item prev">
                        <a class="page-link" href="javascript:void(0);"><i class="fa fa-angle-left"
                                aria-hidden="true"></i></a>
                    </li>
                    <li class="page-item active">
                        <a class="page-link" href="javascript:void(0);">1</a>
                    </li>
                    <li class="page-item">
                        <a class="page-link" href="javascript:void(0);">2</a>
                    </li>
                    <li class="page-item">
                        <a class="page-link" href="javascript:void(0);">3</a>
                    </li>
                    <li class="page-item">
                        <a class="page-link" href="javascript:void(0);">4</a>
                    </li>
                    <li class="page-item">
                        <a class="page-link" href="javascript:void(0);">5</a>
                    </li>
                    <li class="page-item next">
                        <a class="page-link" href="javascript:void(0);"><i class="fa fa-angle-right"
                                aria-hidden="true"></i></a>
                    </li>
                    <li class="page-item next">
                        <a class="page-link" href="javascript:void(0);"><i class="fa fa-angle-double-right"
                                aria-hidden="true"></i></a>
                    </li>
                </ul>
            </nav>
        </div>


        <!-- Modal -->
        <div class="modal fade" id="modalCenter" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="modalCenterTitle">댓글신고</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div id="policyGet_checkbox">
                            <div class="custom-control custom-checkbox">
                                <input type="checkbox" class="custom-control-input" id="customCheck1"
                                    data-textarea-id="textarea2">
                                <label class="custom-control-label" for="customCheck1">불건전한 내용</label>
                            </div>
                            <div class="custom-control custom-checkbox">
                                <input type="checkbox" class="custom-control-input" id="customCheck2"
                                    data-textarea-id="textarea3">
                                <label class="custom-control-label" for="customCheck2">영리목적/홍보성</label>
                            </div>
                            <div class="custom-control custom-checkbox">
                                <input type="checkbox" class="custom-control-input" id="customCheck3"
                                    data-textarea-id="textarea4">
                                <label class="custom-control-label" for="customCheck3">개인정보노출</label>
                            </div>
                            <div class="custom-control custom-checkbox">
                                <input type="checkbox" class="custom-control-input" id="customCheck4"
                                    data-textarea-id="textarea1">
                                <label class="custom-control-label" for="customCheck4">기타(아래에 작성해주세요)</label>
                            </div>

                        </div>
                        <div class="row">
                            <div class="col mb-3">
                                <label class="form-label">신고내용</label>

                                <textarea disabled id="textarea1" placeholder="신고내용을 작성해주세요"
                                    class="policyGet_reportDetail font_light"></textarea>
                            </div>
                        </div>

                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary">신고하기</button>
                        <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                            취소
                        </button>

                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>


    <script>
        // 위시 버튼 클릭 시 이미지 변경
        $(document).ready(function () {
            $("#policyGet_heartBtn").click(function () {
                var currentSrc = $("#policyGet_heartBtn").attr("src");
                var newSrc = (currentSrc === "${pageContext.request.contextPath}/resources/img/addWish.png") ? "${pageContext.request.contextPath}/resources/img/checkWish.png" : "${pageContext.request.contextPath}/resources/img/addWish.png";
                $("#policyGet_heartBtn").attr("src", newSrc);
            });


            // 좋아요 버튼 클릭 시 이미지 변경

            $(".policyGet_likeBtn").click(function () {
                var currentSrc = $(".policyGet_likeBtn").attr("src");
                var newSrc = (currentSrc === "${pageContext.request.contextPath}/resources/img/addLike.png") ? "${pageContext.request.contextPath}/resources/img/checkLike.png" : "${pageContext.request.contextPath}/resources/img/addLike.png";
                $(".policyGet_likeBtn").attr("src", newSrc);
            });


            // 댓글 좋아요 버튼 클릭 시 이미지 변경
            $(".commu_like").click(function () {
                var currentSrc = $(this).attr("src");
                var newSrc = (currentSrc === "${pageContext.request.contextPath}/resources/img/addLike.png") ? "${pageContext.request.contextPath}/resources/img/checkLike.png" : "${pageContext.request.contextPath}/resources/img/addLike.png";
                $(this).attr("src", newSrc);
            });


            // 신고 모달창
            $("td").click(function (event) {
                event.preventDefault();
                if ($(event.target).is(".policyGet_report, .policyGet_report img") || $(event.target).closest(".policyGet_report").length > 0) {
                    $("#modalCenter").modal("show");
                }
            });


            // 체크박스 중복 방지
            $('.custom-control-input').on('change', function () {
                if ($(this).prop('checked')) {
                    $('.custom-control-input').not(this).prop('disabled', true);
                } else {
                    $('.custom-control-input').prop('disabled', false);
                }
            });


            // 기타 항목에 체크했을 때만 입력창 활성화
            $(".custom-control-input").change(function () {
                // 해당 체크박스가 체크되었는지 여부 확인
                var isChecked = $(this).prop("checked");

                // 모든 textarea 요소 비활성화
                $(".policyGet_reportDetail").prop("disabled", true);

                // 체크된 체크박스에 해당하는 textarea만 활성화
                if (isChecked) {
                    var textareaId = $(this).data("textarea-id");
                    $("#" + textareaId).prop("disabled", false);
                }
            });


            // 아무 체크도 안했을 때 선택버튼 비활성화
            // 각 체크박스 요소에 대한 이벤트 핸들러 등록
            $(".custom-control-input").change(updateReportButtonState);

            // textarea에 대한 이벤트 핸들러 등록
            $(".policyGet_reportDetail").on("keyup", updateReportButtonState);

            // 초기 상태 설정
            updateReportButtonState();

            function updateReportButtonState() {
                // 체크박스 중에서 하나라도 체크되어 있는지 여부 확인
                var anyCheckboxChecked = $(".custom-control-input:checked").length > 0;

                // textarea에 입력된 값이 있는지 여부 확인
                var anyTextareaContent = $(".policyGet_reportDetail").filter(function () {
                    return $(this).val().trim() !== "";
                }).length > 0;

                // 버튼 상태 업데이트
                $(".btn-primary").prop("disabled", !(anyCheckboxChecked || anyTextareaContent));
            }


        }); // document.ready함수


    </script>
<%@include file="../includes/footer.jsp" %>