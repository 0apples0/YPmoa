<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper	namespace="com.moa.youthpolicy.policy.mapper.PolicyMapper">
	<select id="getfiveboard" resultType="com.moa.youthpolicy.policy.domain.PolicyVO">
		SELECT * FROM policy ORDER BY no LIMIT 5
	</select>
	
	<select id="getListWithPasing" resultType="com.moa.youthpolicy.policy.domain.PolicyVO" parameterType="com.moa.youthpolicy.common.Criteria">
		SELECT * FROM policy
		WHERE no > 0
		<if test="type != null and keyword != null and keyword !=''">
			AND ${type} LIKE CONCAT('%',#{keyword},'%')
		</if>
		ORDER BY no DESC
		LIMIT #{start}, #{amount}
	</select>
	
	<select id="getTotalCount" resultType="int" parameterType="com.moa.youthpolicy.common.Criteria">
		SELECT COUNT(no) FROM policy
		WHERE no > 0
		<if test="type != null and keyword != null and keyword !=''">
			AND ${type} LIKE CONCAT('%',#{keyword},'%')
		</if>
	</select>
</mapper>