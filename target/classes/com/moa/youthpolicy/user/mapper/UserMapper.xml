<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="com.moa.youthpolicy.user.mapper.UserMapper" >
	<update id="update" parameterType="com.moa.youthpolicy.user.domain.UserVO">
		UPDATE user
		SET name = #{name},nick = #{nick},phone = #{phone}
		WHERE Email = #{Email}
	</update>

	<update id="modinfo" parameterType="com.moa.youthpolicy.user.domain.UserVO">
		UPDATE user
		SET address = #{address},isWork = #{isWork},age = #{age},income = #{income},isMarry = #{isMarry},interestField = #{interestField}
		WHERE Email = #{Email}
	</update>

    <!-- SQL queries and mapping statements go here -->
    <select id="selectUserByEmail" parameterType="java.lang.String" resultType="com.moa.youthpolicy.user.domain.UserVO">
        SELECT * FROM user WHERE Email = #{Email}
    </select>
    
    <select id="chkPhone" parameterType="int" resultType="com.moa.youthpolicy.user.domain.UserVO">
        SELECT * FROM user WHERE phone = #{phone} LIMIT 1
    </select>
    
    <select id="chkNick" parameterType="java.lang.String" resultType="com.moa.youthpolicy.user.domain.UserVO">
        SELECT * FROM user WHERE nick = #{nick}
    </select>
    
    <insert id="register" parameterType="com.moa.youthpolicy.user.domain.UserVO">
    	INSERT INTO user
    	(Email, name, nick, phone)
    	VALUES (#{Email}, #{name}, #{nick}, #{phone})
	</insert>
	
	 <select id="login" parameterType="com.moa.youthpolicy.user.domain.UserVO" resultType="com.moa.youthpolicy.user.domain.UserVO">
        SELECT * FROM user WHERE Email = #{Email} AND PW = #{PW}
    </select>
    
    <!-- Additional SQL queries and mapping statements can be added here -->
</mapper>
